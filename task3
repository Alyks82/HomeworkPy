# 3. Реализовать базовый класс Worker (работник), в котором определить
# атрибуты: name, surname, position (должность), # income (доход).
# Последний атрибут должен быть защищенным и ссылаться на словарь, содержащий элементы: оклад и премия,
# например, {"wage": wage, "bonus": bonus}. Создать класс Position (должность) на базе класса Worker.
# В классе Position реализовать методы получения полного имени сотрудника (get_full_name) и дохода с учетом
# премии (get_total_income). Проверить работу примера на реальных данных (создать экземпляры класса Position,
# передать данные, проверить значения атрибутов, вызвать методы экземпляров).

class Worker:
    def __init__(self, name, surname, position, wage, bonus):
        self.n = name
        self.s = surname
        self.p = position
        self.w = wage
        self.b = bonus
        self._i = {"Оклад": self.w, "Премия": self.b}


class Position(Worker):
    num = 0
    items = []

    def __init__(self, name, surname, position, wage, bonus):
        super().__init__(name, surname, position, wage, bonus)
        Position.num += 1
        print(f'Новый работник приступил к своей службе. Всего: {Position.num}')
        self.items.append(self)

    def get_full_name(self):
        print(f'Имя: {self.n}, Фамилия {self.s}')

    def get_total_income(self):
        print(f'Доход сотрудника: {sum(self._i.values())}')


'''Решил оформить для функциональности в относительно полноценный модуль'''

while True:
    try:
        choice = int(input('Вы находитесь в главном меню программы.\n'
                           '0 - выход из программы\n'
                           '1 - ввод нового работника\n'
                           '2 - вывод информации по работникам\n'))
        if choice == 0:
            break
        if choice == 1:
            try:
                f_name = 'w_' + str(Position.num)  # не сразу но разобрался, как дать "свободное" имя
                locals()[f_name] = Position(input('Введите имя '), input('Введите фамилию '),
                                            input('Введите должность '),
                                            int(input('Введите оклад ')), int(input('Введите премию ')))

            except ValueError:
                print('Внимательно читайте инструкции и вводите корректные значения')
            continue
        if choice == 2:
            '''Здесь наверно неправильно, но по другому не разобрался, как сделать'''
            for item in Position.items:
                item.get_full_name()
                print(f'Должность {item.p}')
                item.get_total_income()
            continue
    except ValueError:
        print('Внимательно прочитайте инструкцию и введите правильное значение')
print('Спасибо за интерес к программе')
